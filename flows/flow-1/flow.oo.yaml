nodes:
  - node_id: +typescript#3
    title: linkedin-publisher（开发中）
    icon: ":skill-icons:typescript:"
    inputs_from:
      - handle: linkedinPersonId
        value: ""
      - handle: linkedinAccessToken
        value: ""
      - handle: linkedinContent
        from_node:
          []
      - handle: mediaPaths
        from_node:
          []
      - handle: available
        from_node:
          []
    task:
      ui:
        default_width: 450
      inputs_def:
        - handle: linkedinContent
          json_schema:
            type: string
          nullable: false
        - handle: mediaPaths
          json_schema:
            type: array
            items:
              type: string
              ui:widget: file
          nullable: true
        - handle: available
          json_schema:
            type: boolean
        - handle: linkedinAccessToken
          json_schema:
            contentMediaType: oomol/secret
            type: string
          nullable: false
        - handle: linkedinPersonId
          json_schema:
            contentMediaType: oomol/secret
            type: string
          nullable: false
      outputs_def:
        - handle: result
          json_schema:
            {}
      executor:
        name: nodejs
        options:
          entry: scriptlets/+scriptlet#3.ts
          spawn: false
    ignore: true
  - node_id: previewer#1
    task: self::previewer
    inputs_from:
      - handle: enableTwitterOptimization
        value: null
      - handle: enableLinkedInOptimization
        value: null
      - handle: enableTelegramOptimization
        value:
      - handle: content
        from_node:
          []
      - handle: mediaPaths
        value:
          []
  - node_id: telegram-poster#1
    title: "telegram-publisher #1"
    inputs_from:
      - handle: telegramContent
        from_node:
          - node_id: previewer#1
            output_handle: telegramContent
      - handle: mediaPaths
        from_node:
          - node_id: previewer#1
            output_handle: mediaPaths
      - handle: available
        from_node:
          - node_id: previewer#1
            output_handle: telegramAvailable
      - handle: telegramBotToken
      - handle: telegramChannelId
    task: self::telegram-poster
  - node_id: twitter-poster#1
    title: "twitter-publisher #1"
    inputs_from:
      - handle: twitterContent
        from_node:
          - node_id: previewer#1
            output_handle: twitterContent
      - handle: mediaPaths
        from_node:
          - node_id: previewer#1
            output_handle: mediaPaths
      - handle: available
        from_node:
          - node_id: previewer#1
            output_handle: twitterAvailable
      - handle: twitterApiKey
      - handle: twitterApiSecret
      - handle: twitterAccessToken
      - handle: twitterAccessTokenSecret
    task: self::twitter-poster
